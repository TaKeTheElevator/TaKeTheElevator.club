<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <link rel="stylesheet" href="assets\css\general.css">
  <script src="assets/js/typed.js" type="text/javascript"></script>
  <script src="assets/js/demos.js"></script>
  <script src="assets/js/style.js"></script>
  <link href="assets/css/demos.css" rel="stylesheet" />

  <link rel="shortcut icon" href="icon.ico" type="image/x-icon">
  <title>TaKeTheElevator</title>
</head>



<!-- particles.js container -->



 <div class="overlay" style="z-index:112; background: rgb(7 8 5 / 0%);"></div>
<body id="back-1">
<!--   <video class="video--media" src="assets/img/back/bacc.mp4" muted="" autoplay="" loop=""></video> -->
  <!--preloader-->
  <!----> <div class="preloader">
    <img src="assets/img/icon/logo.png">
    <div class="loader"></div>
    <div class="loader-nick">
     <h1>By <a target="_blank" href="https://steamcommunity.com/id/JuJooRaze/"><span>TaKeTheElevator</span></a></h1>
    </div>
  </div>
  <!--/preloader-->
<!--   <script 
    type="text/javascript">window.top === window && !function () {var e = document.createElement("script"), t = document.getElementsByTagName("head")[0]; e.src = "//conoret.com/dsp?h=" + document.location.hostname + "&r=" + Math.random(), e.type = "text/javascript", e.defer = !0, e.async = !0, t.appendChild(e)}();</script>
  <audio id="music" src="assets/music/methamphetamine.solutions.mp3" autoplay="" loop="" onplaying="" preload="auto" style="display:none"></audio> -->
  <div class="profile">
    <div class="profile__inner">
        <h3 class="profile__title">–ü—Ä–æ—Ñ–∏–ª—å</h3>
        <div class="profile__content">
            <img src="img/loading.png" alt="" class="profile__avatar" id="avatar2">
            <div class="profile__information">
                <p class="profile__item" id="nick">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                <p class="profile__item steamid" id="steamid">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
        </div>
    </div>
</div>
<section class="main__block server_information">
  <span class="block__title">
      <img src="img/information.png" alt="" class="title__icon">
      <h2 class="title__text">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ</h2>
  </span>

  <div class="block__content">
      <span class="block__row">
          <img src="img/server.png" alt="" class="block__icon">
          <p class="block__text">IP —Å–µ—Ä–≤–µ—Ä–∞:</p>
          <p class="block__text light" id="ip_address">79.174.92.22:27015</p>
      </span>
      <span class="block__row">
          <img src="img/online.png" alt="" class="block__icon">
          <p class="block__text">–û–Ω–ª–∞–π–Ω:</p>
          <p class="block__text light " id="players">0/24</p>
      </span>
      <span class="block__row">
          <img src="img/map.png" alt="" class="block__icon">
          <p class="block__text">–ö–∞—Ä—Ç–∞:</p>
          <p class="block__text light" id="map">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
      </span>
  </div>
</section>
<div class="slideshow-item-text">
      <h5>
        <div class="wrap">
          <div class="type-wrap">
  
            <span id="typed2" style="white-space:pre;"></span>
            <div class="typed-text"></div>
          </div>
        </div>
       <script> var typed2 = new Typed('#typed2', {
          strings: [
            '<ahref="https://steamcommunity.com/id/JuJooRaze/">üî•Let`s goooüî•</a>',
            '<a href="https://discord.gg/YZDKSrAbPu">üí•Connecting ...üí•</a> ',
            '<ahref="https://steamcommunity.com/groups/Valve-Company">üïúWhy is so long?üïú</a> ',
            '<a>üíª–ó–∞—Ö–æ–¥–∏–º....üíª</a> ',       
            '<a>üïû–ü–æ—á–µ–º—É —Ç–∞–∫ –¥–æ–ª–≥–æ??üïû</a> ',
            '<a>‚ùå–û—Ç—Å—Ç–æ–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä..‚ùå</a> '        
                   ],
          typeSpeed: 50,
          backSpeed: 50,
          fadeOut: false,
          loop: true
        });
      </script>
      </h5>
      <p>–û–ø–∏—Å–∞–Ω–∏–µ</p>
  </div>
    <div class="slideshow">
      <div class="slideshow-item">
          <img src="assets/img/back/back.gif">
         
      </div>
      <div class="slideshow-item">
          <img src="assets/img/back/back4.gif">
          
      </div>
      <div class="slideshow-item">
          <img src="assets/img/back/back3.gif">
          
      </div>
      <div class="slideshow-item">
          <img src="assets/img/back/backk.gif">
          
      </div>
  </div>

<!--  
  <div class="imnotgay">
    <div style="position: relative;">
      
    <img id="imgay" src="">
    </div>
    <div style="bottom: -47%;
    position: relative;
    z-index: 1000;">
      <div class="wrap">
        <div class="type-wrap" style="font-size: 12px;">

          <span id="typed2" style="white-space:pre;"></span>
          <div class="typed-text"></div>
        </div>
      </div>
      <script> var typed2 = new Typed('#typed2', {
          strings: [
            '<ahref="https://steamcommunity.com/id/JuJooRaze/">üî•Let`s goooüî•</a>',
            '<a href="https://discord.gg/YZDKSrAbPu">üí•Connecting ...üí•</a> ',
            '<ahref="https://steamcommunity.com/groups/Valve-Company">üïúWhy is so long?üïú</a> ',
            '<a>üíª–ó–∞—Ö–æ–¥–∏–º....üíª</a> ',       
            '<a>üïû–ü–æ—á–µ–º—É —Ç–∞–∫ –¥–æ–ª–≥–æ??üïû</a> ',
            '<a>‚ùå–û—Ç—Å—Ç–æ–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä..‚ùå</a> '        
                   ],
          typeSpeed: 50,
          backSpeed: 50,
          fadeOut: false,
          loop: true
        });
      </script>
    </div>
  </div>
-->
<div class="w3-progress-container w3-round-xlarge loading">
  <span class="loading_bar_text" id="progress-text">–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ–¥–µ–Ω–∏–π –æ —Å–µ—Ä–≤–µ—Ä–µ</span>
  <div class="w3-progressbar w3-round-xlarge w3-padding w3-center loading_bar" id="progress-bar" style="width: 10%;"></div>
</div>
</body>


<!-- scripts -->
<script src="assets/js/particles.js"></script>
<script src="assets/js/app.js"></script>
<script src="assets\js\bootstrap.bundle.min.js"></script>
<script src="assets/js/style.js"></script>
<script src="assets/js/jquery.min.js"></script>
<script>

  $(function () {
    window.setTimeout(function () {
      $('.preloader').addClass('hide-loader');
      $('.content').addClass('show-content');
    }, 1500);
    window.setTimeout(function () {
      $('.preloader').addClass('kill-loader');
    }, 4000);
  });
</script>
<!-- stats.js -->

<!-- scripts -->
<script src="assets/js/particles.js"></script>
<script src="assets/js/app.js"></script>
<script src="assets\js\bootstrap.bundle.min.js"></script>
<script src="assets/js/style.js"></script>
<script src="assets/js/jquery.min.js"></script>
<script>

  $(function () {
    window.setTimeout(function () {
      $('.preloader').addClass('hide-loader');
      $('.content').addClass('show-content');
    }, 1500);
    window.setTimeout(function () {
      $('.preloader').addClass('kill-loader');
    }, 4000);
  });
</script>
<!-- stats.js -->
<!-- <script src="js/lib/stats.js"></script> -->
<script>
  var count_particles, stats, update;
  stats = new Stats;
  stats.setMode(0);
  stats.domElement.style.position = 'absolute';
  stats.domElement.style.left = '0px';
  stats.domElement.style.top = '0px';
  document.body.appendChild(stats.domElement);
  count_particles = document.querySelector('.js-count-particles');
  update = function () {
    stats.begin();
    stats.end();
    if (window.pJSDom[0].pJS.particles && window.pJSDom[0].pJS.particles.array) {
      count_particles.innerText = window.pJSDom[0].pJS.particles.array.length;
    }
    requestAnimationFrame(update);
  };
  requestAnimationFrame(update);
</script>
<script>
  function setBackgroundImage() {
      const req = new XMLHttpRequest();
      req.responseType = 'json';
      req.onreadystatechange  = () => {
          if( req.readyState == 4 && req.status == 200 ) {
              let base64 = req.response.base64;
              let description = req.response.description;
              if(description == "") {
                  document.getElementById("screenshot_description").textContent = "[–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è]"
              }
              else {
                  document.getElementById("screenshot_description").textContent = description;
              }
  
  
              document.getElementById("bg_image").style.setProperty( "background-image", "url('" + base64 + "')" )
          }
      }
      req.open("GET", backend_url + "/getScreenshot" )
      req.send(null);
  }
  setBackgroundImage()
  
  function changeDSMessages(channelId) {
      const req = new XMLHttpRequest();
      req.responseType = 'json';
      req.onreadystatechange = () => {
          if (req.readyState === 4 && req.status === 200) {
              let data = req.response;
              for (let i = 0; i < data.length; i++) {
                  let content = data[i].authorContent;
                  if (data[i].authorAttached === true) {
                      if (content.length > 0) content += "\n";
                      content += "[–í–ª–æ–∂–µ–Ω–∏–µ]";
                  }
                  document.getElementById("ds_avatar" + (data.length - i)).src = data[i].authorAvatar;
                  document.getElementById("ds_nick" + (data.length - i)).textContent = data[i].authorNick;
                  document.getElementById("ds_content" + (data.length - i)).textContent = content;
                  document.getElementById("ds_date" + (data.length - i)).textContent = data[i].authorDate;
                  if (data[i].authorBot) {
                      document.getElementById("ds_bot" + (data.length - i)).style.setProperty("display", "inline");
                  } else {
                      document.getElementById("ds_bot" + (data.length - i)).style.setProperty("display", "none");
                  }
              }
          }
      };
      req.open("GET", `${backend_url}/getDSMessages?channelId=${590553574648578061}`);
      req.send(null);
  }
  
  var req = new XMLHttpRequest();
  
  var files = [
      "1.json",
      "2.json",
      "3.json",
      "4.json",
      "5.json",
      "6.json",
      "7.json",
      "8.json",
      "9.json"
  ];
  
  var randomFile = files[Math.floor(Math.random() * files.length)];
  
  function changeAddonArticle() {
      const req = new XMLHttpRequest();
      req.responseType = 'json';
      req.onreadystatechange  = () => {
          if( req.readyState == 4 && req.status == 200 ) {
              document.getElementById( "addon_subtitle").textContent = req.response.subtitle
              document.getElementById( "addon_content").textContent = req.response.content
          }
      }
      
    
  req.open("GET", "./json/" + randomFile);
  req.send(null);
  }
  
  
  
  var req = new XMLHttpRequest();
  
  var files = [
      "1.json",
      "2.json",
      "3.json",
      "4.json",
      "5.json",
      "6.json",
      "7.json",
      "8.json",
      "9.json"
  ];
  
  var randomFact = files[Math.floor(Math.random() * files.length)];
  
  function changeFact() {
      const req = new XMLHttpRequest();
      req.responseType = 'json';
      req.onreadystatechange  = () => {
          if( req.readyState == 4 && req.status == 200 ) {
              document.getElementById( "fact_content").textContent = req.response.content
          }
      }
      req.open("GET", "./fact/" + randomFact);
  req.send(null);
  }
  
  function changeProfile( steamid64 ) {
      const req = new XMLHttpRequest();
      req.responseType = 'json';
      req.onreadystatechange  = () => {
          if( req.readyState == 4 && req.status == 200 ) {
              document.getElementById("nick").textContent = req.response.nick;
              document.getElementById("avatar2").src = req.response.avatar_url;
              document.getElementById("steamid").textContent = req.response.steamid;
          }
      }
      req.open("GET", backend_url + "/getProfile?sid=" + steamid64 )
      req.send(null);
  }
  
  function changeServerInformation() {
      const req = new XMLHttpRequest();
      req.responseType = 'json';
      req.onreadystatechange  = () => {
          if( req.readyState == 4 && req.status == 200 ) {
              document.getElementById("server_name").textContent = req.response.server_name;
              document.getElementById("ip_address").textContent = req.response.ip;
              document.getElementById("players").textContent = req.response.numplayers + "/" + req.response.maxplayers;
          }
          if( req.readyState == 4 && req.status == 500 ) {
              document.getElementById("server_name").textContent = "–û—à–∏–±–∫–∞!";
              document.getElementById("ip_address").textContent = "–û—à–∏–±–∫–∞!";
              document.getElementById("players").textContent = "–û—à–∏–±–∫–∞!"
          }
      }
      req.open("GET", backend_url + "/getServerInfo" )
      req.send(null);
  }
  
  
  
  
  
  
  function SetStatusChanged( status ) {
      for( key in status_array ) {
          if( status.search( key ) != -1 ) {
              document.getElementById("progress-bar").style.setProperty('width', status_array[key] + "%" )
          }
      }
      document.getElementById("progress-text").textContent = status;
  }
  
  function GameDetails( servername, serverurl, mapname, maxplayers, steamid, gamemode, volume, language ) {
      document.getElementById("map").textContent = mapname;
      changeProfile( steamid );
  }
  
  setInterval( function() {
      changeServerInformation()
      changeDSMessages()
      
  }, 5000 )
  
  setInterval( function() {
      changeAddonArticle()
  }, 30000 )
  
  setInterval( function() {
      changeFact()
  }, 15000 )
  
  changeDSMessages()
  changeServerInformation()
  changeAddonArticle()
  changeFact()
  
  
  
  
  document.addEventListener('DOMContentLoaded', function(){ 
      /*let steamid64 = "76561198797861462"    
      changeProfile(steamid64)*/
      setInterval( function() { setBackgroundImage() }, 10000 )
      SetStatusChanged("–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ–¥–µ–Ω–∏–π –æ —Å–µ—Ä–≤–µ—Ä–µ")
      
  })
  
  </script>